"use strict";(self["webpackChunkcinephile"]=self["webpackChunkcinephile"]||[]).push([[523],{3237:function(t,n,e){e.d(n,{Z:function(){return y}});var o=e(3396),i=e(7139);const s={class:"container"},l={class:"main__content"},a={class:"main__content-title"},c={class:"main__content-list"},r={key:0,class:"loading"},u=(0,o._)("div",{class:"loading__spiner"},null,-1),p=[u];function m(t,n,e,u,m,d){const v=(0,o.up)("ContentItem");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",s,[(0,o._)("div",l,[(0,o._)("h2",a,(0,i.zw)("movie"==e.content?"Все фильмы":"Все сериалы"),1),(0,o._)("div",c,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(m.allMovies,(t=>((0,o.wg)(),(0,o.j4)(v,{key:t.id,item:t,content:e.content},null,8,["item","content"])))),128))])])]),m.loading?((0,o.wg)(),(0,o.iD)("div",r,p)):(0,o.kq)("",!0)],64)}e(7658);const d={alt:"",class:"main__content-img"},v={class:"main__content-name"};function g(t,n,e,s,l,a){const c=(0,o.up)("router-link"),r=(0,o.Q2)("lazy");return(0,o.wg)(),(0,o.j4)(c,{to:"#",class:"main__content-item"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("img",d,null,512),[[r,t.imageFullUrl+e.item.backdrop_path]]),(0,o._)("h2",v,(0,i.zw)(e.item.title||e.item.name),1)])),_:1})}var h=e(65),_={props:["content","item"],computed:{...(0,h.rn)(["imageFullUrl"])}},w=e(89);const f=(0,w.Z)(_,[["render",g]]);var k=f,C={props:["content"],components:{ContentItem:k},data(){return{page:1,loading:!1,allMovies:[]}},computed:{...(0,h.rn)("popularMovies",["popularMovies"]),...(0,h.rn)("popularTvs",["popularTvs"])},methods:{async getContent(){if(!this.loading){this.loading=!0;let t="movie"==this.content?"popularMovies/getPopular":"popularTvs/getPopular";await this.$store.dispatch(`${t}`,this.page);let n="movie"==this.content?this.popularMovies:this.popularTvs;this.allMovies.push(...n),this.loading=!1,this.page++}}},mounted(){console.log(this.allMovies),window.addEventListener("scroll",(()=>{window.scrollY+window.innerHeight>=document.body.scrollHeight&&this.getContent()})),this.getContent()}};const M=(0,w.Z)(C,[["render",m]]);var y=M},523:function(t,n,e){e.r(n),e.d(n,{default:function(){return u}});var o=e(3396);const i={class:"main"};function s(t,n,e,s,l,a){const c=(0,o.up)("ContentList");return(0,o.wg)(),(0,o.iD)("main",i,[(0,o.Wm)(c,{content:"movie"})])}var l=e(3237),a={components:{ContentList:l.Z}},c=e(89);const r=(0,c.Z)(a,[["render",s]]);var u=r}}]);